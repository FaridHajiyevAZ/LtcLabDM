{% extends 'base.html' %}
{% block content %}
<h2>Students for {{ group.name }}</h2>
<form method="post" class="row g-2 mb-3">
  {{ form.hidden_tag() }}
  <div class="col-auto">{{ form.full_name(class_='form-control', placeholder='Full name') }}</div>
  <div class="col-auto"><button class="btn btn-primary" type="submit">Add</button></div>
</form>
<table class="table">
  <tr><th>Name</th><th>Actions</th></tr>
  {% for s in group.students %}
  <tr>
    <td>
      <form method="post" action="{{ url_for('students.edit_student', student_id=s.id) }}" class="d-flex">
        {{ csrf_token() }}
        <input class="form-control form-control-sm me-2" type="text" name="full_name" value="{{ s.full_name }}">
        <button class="btn btn-sm btn-secondary" type="submit">Save</button>
      </form>
    </td>
    <td>
      <form method="post" action="{{ url_for('students.delete_student', student_id=s.id) }}" onsubmit="return confirm('Delete student?');">
        {{ csrf_token() }}
        <button class="btn btn-sm btn-danger" type="submit">Delete</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
<p><a href="{{ url_for('groups.list_groups') }}">Back to groups</a></p>
{% endblock %}
